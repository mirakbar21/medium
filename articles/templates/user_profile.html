{% extends 'base.html' %}

{% block extrahead %}
<style>
    #mainNav {
        background-color: #474c52 !important;
    }
    .content-below-nav {
        padding-top: 70px;
    }
</style>
{% endblock %}


{% block content %}
    <div class="container py-4">
        <div class="row">
            <div class="col-lg-12 content-below-nav">
                <h1 class="mt-4">{{ object.username }}</h1>

                <h3>Published Articles</h3>
                <ul>
                    {% for article in user_articles %}
                        <li><a href="{% url 'article_details' article.pk %}">{{ article.title }}</a></li>
                    {% endfor %}
                </ul>

                <h3>Following</h3>
                <ul>
                    {% for person in object.following.all %}
                        <li>{{ person.username }}</li>
                    <form action="{% url 'unsubscribe' person.id %}" method="post" class="me-2">
                                {% csrf_token %}
                                <button type="submit" class="btn btn-danger btn-sm rounded-pill">Unsubscribe</button>
                            </form>
                    {% empty %}
                        <li>No following yet.</li>
                    {% endfor %}
                </ul>

                <h4><a href="{% url 'reading_list' %}">Reading Lists</a></h4>
                <h4><a href="{% url 'about_user' %}">About</a></h4>
                <h4><a href="{% url 'logout' %}">Logout</a></h4>

            </div>
        </div>
    </div>
{% endblock %}